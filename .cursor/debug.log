{"location":"loan.ts:175","message":"approve mutation entry","data":{"loanId":"2692ab0e-d9ee-4f4f-8c53-4351f40de975"},"timestamp":1766166499730,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"loan.ts:190","message":"before update - approvedAt value","data":{"approvedAt":null,"approvedAtType":"object"},"timestamp":1766166499781,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"loan.ts:175","message":"approve mutation entry","data":{"loanId":"2692ab0e-d9ee-4f4f-8c53-4351f40de975"},"timestamp":1766166533545,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"loan.ts:190","message":"before update - approvedAt value","data":{"approvedAt":null,"approvedAtType":"object"},"timestamp":1766166533597,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"loan.ts:209","message":"before update - date value","data":{"nowDate":"2025-12-19T17:48:53.598Z","nowDateType":"object","isDate":true},"timestamp":1766166533598,"sessionId":"debug-session","runId":"run2","hypothesisId":"F"}
{"location":"loan.ts:175","message":"approve mutation entry","data":{"loanId":"2692ab0e-d9ee-4f4f-8c53-4351f40de975"},"timestamp":1766166562739,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"loan.ts:190","message":"before update - approvedAt value","data":{"approvedAt":null,"approvedAtType":"object"},"timestamp":1766166562785,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"loan.ts:209","message":"before update - date value","data":{"nowDate":"2025-12-19T17:49:22.786Z","nowDateType":"object","isDate":true},"timestamp":1766166562786,"sessionId":"debug-session","runId":"run3","hypothesisId":"F"}
{"location":"loan.ts:225","message":"update error caught","data":{"errorMessage":"value.toISOString is not a function","errorStack":"TypeError: value.toISOString is not a function\n    at PgTimestamp.mapToDriverValue (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:3282:22)\n    at /Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1190:81\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1110:36)\n    at /Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1143:29\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1110:36)\n    at /Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1143:29\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1110:36)\n    at /Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1094:32\n    at Object.startActiveSpan (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:946:20)\n    at SQL.toQuery (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:1093:361)\n    at PgDialect.sqlToQuery (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:5321:21)\n    at QueryPromise._prepare (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:7961:62)\n    at QueryPromise.execute (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:7977:21)\n    at QueryPromise.then (/Users/ssteuteville/dev/shane-vault-challenge/apps/nextjs/.next/dev/server/chunks/f9961_drizzle-orm_857de71a._.js:4497:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","errorName":"TypeError"},"timestamp":1766166562787,"sessionId":"debug-session","runId":"run3","hypothesisId":"H"}
{"location":"loan.ts:175","message":"approve mutation entry","data":{"loanId":"2692ab0e-d9ee-4f4f-8c53-4351f40de975"},"timestamp":1766166616658,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"loan.ts:190","message":"before update - approvedAt value","data":{"approvedAt":null,"approvedAtType":"object"},"timestamp":1766166616713,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"loan.ts:215","message":"before update - using raw SQL","data":{},"timestamp":1766166616714,"sessionId":"debug-session","runId":"run6","hypothesisId":"K"}
{"location":"loan.ts:220","message":"update completed successfully","data":{},"timestamp":1766166616779,"sessionId":"debug-session","runId":"run3","hypothesisId":"G"}
{"location":"loan.ts:238","message":"after update, before fetch","data":{},"timestamp":1766166616779,"sessionId":"debug-session","runId":"run3","hypothesisId":"C"}
{"location":"loan.ts:231","message":"after fetch - approvedAt value and type","data":{"approvedAt":"2025-12-19T17:50:16.787Z","approvedAtType":"object","approvedAtConstructor":"Date","hasToISOString":"function","isDate":true},"timestamp":1766166616843,"sessionId":"debug-session","runId":"run2","hypothesisId":"D"}
{"location":"loan.ts:234","message":"returning updatedLoan","data":{"approvedAt":"2025-12-19T17:50:16.787Z","status":"approved"},"timestamp":1766166616843,"sessionId":"debug-session","runId":"run2","hypothesisId":"E"}
{"location":"item.ts:149","message":"item.update mutation entry","data":{"itemId":"f41e3e86-3ebf-4389-9753-db22f15da9c9","updateData":{"isListed":false}},"timestamp":1766168540322,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"item.ts:156","message":"item fetched before update","data":{"itemFound":true,"itemUpdatedAt":"Fri Dec 19 2025 10:15:42 GMT-0800 (Pacific Standard Time)"},"timestamp":1766168540404,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"item.ts:178","message":"before update","data":{"updateDataKeys":["isListed"],"updateDataValues":{"isListed":false}},"timestamp":1766168540404,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"item.ts:185","message":"updating isListed","data":{"isListed":false},"timestamp":1766168540404,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"item.ts:203","message":"after raw SQL execute, before fetch","data":{},"timestamp":1766168540461,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"item.ts:210","message":"after fetch updatedItem","data":{"itemFound":true,"updatedAtType":"object","updatedAtValue":"Fri Dec 19 2025 10:22:20 GMT-0800 (Pacific Standard Time)"},"timestamp":1766168540527,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"item.ts:220","message":"before return updatedItem","data":{"updatedAtIsDate":true},"timestamp":1766168540528,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"item.ts:149","message":"item.update mutation entry","data":{"itemId":"f41e3e86-3ebf-4389-9753-db22f15da9c9","updateData":{"isListed":true}},"timestamp":1766168549795,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"item.ts:156","message":"item fetched before update","data":{"itemFound":true,"itemUpdatedAt":"Fri Dec 19 2025 10:22:20 GMT-0800 (Pacific Standard Time)"},"timestamp":1766168549918,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"item.ts:178","message":"before update","data":{"updateDataKeys":["isListed"],"updateDataValues":{"isListed":true}},"timestamp":1766168549918,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"item.ts:185","message":"updating isListed","data":{"isListed":true},"timestamp":1766168549918,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"item.ts:203","message":"after raw SQL execute, before fetch","data":{},"timestamp":1766168549996,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"item.ts:210","message":"after fetch updatedItem","data":{"itemFound":true,"updatedAtType":"object","updatedAtValue":"Fri Dec 19 2025 10:22:30 GMT-0800 (Pacific Standard Time)"},"timestamp":1766168550050,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"item.ts:220","message":"before return updatedItem","data":{"updatedAtIsDate":true},"timestamp":1766168550050,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
